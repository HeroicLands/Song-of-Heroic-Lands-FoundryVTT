{{!--
This file is part of the Song of Heroic Lands (SoHL) system for Foundry VTT.
Copyright (c) 2024â€“2026 Tom Rodriguez ("Toasty") <toasty@heroiclands.com>

Licensed under the GNU General Public License v3.0 (GPLv3).
You may copy, modify, and distribute this file under the terms of that license.

See LICENSE.md in the project root or:
https://www.gnu.org/licenses/gpl-3.0.html

SPDX-License-Identifier: GPL-3.0-or-later
--}}

<form class="{{cssClass}}" autocomplete="off">
    {{> "sohl.item-header"}}

    {{!-- Sheet Tab Navigation --}}
    <nav class="sheet-tabs tabs" data-group="primary">
        <a class="item" data-tab="properties">Common</a>
        <a class="item" data-tab="description">Description</a>
        <a class="item" data-tab="actions">Actions</a>
        <a class="item" data-tab="nesteditems">Nested</a>
        <a class="item" data-tab="effects">Effects</a>
    </nav>

    {{!-- Sheet Body --}}
    <section class="tab-body">
        {{!-- Properties Tab --}}
        <div class="tab properties" data-group="primary" data-tab="properties">
            {{#> "sohl.item-strikemode"}}
                <div class="form-group stacked text-field">
                    <label>Assoc Skill</label>
                    <div class="form-fields">
                        {{#if combatSkills}}
                            <select name="system.assocSkillName">
                                {{selectOptions combatSkills.maneuver selected=system.assocSkillName}}
                            </select>
                        {{else}}
                            {{formInput fields.assocSkillName value=system.assocSkillName}}
                        {{/if}}
                    </div>
                    <p class="hint"></p>
                </div>
                {{formField fields.lengthBase rootId="ctsm-lengthbase" classes="text-field" stacked=true value=system.lengthBase}}
            {{/ "sohl.item-strikemode"}}
            {{> "sohl.item-refnote"}}
        </div>

        {{!-- Description Tab --}}
        <div
            class="tab description"
            id="weapongear-desc"
            data-group="primary"
            data-tab="description">
            {{editor idata.description target="system.description" button=true
            owner=owner editable=editable}}
        </div>

        {{!-- Actions Tab --}}
        <div class="tab actions" data-group="primary" data-tab="actions">
            {{> "sohl.item-actions-list"}}
        </div>

        {{!-- Nested Items Tab --}}
        <div
            class="tab nesteditems"
            data-group="primary"
            data-tab="nesteditems">
            {{> "sohl.item-nesteditems-list"}}
        </div>

        {{!-- Effects Tab --}}
        <div class="tab effects" data-group="primary" data-tab="effects">
            {{> "sohl.item-active-effects"}}
        </div>
    </section>
</form>
